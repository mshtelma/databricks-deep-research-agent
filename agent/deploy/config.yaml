# Databricks Deployment Configuration
# This file defines environment-specific settings for the LangGraph agent deployment

# Global settings (used by Command Execution API deployment system)
global:
  project_name: "langgraph-research-agent"

# Environment configurations
environments:
  dev:
    profile: "e2-demo-west"  # Databricks CLI profile name
    workspace_path: "/Workspace/Users/michael.shtelma@databricks.com/LLM/langgraph-research-agent"
    
    # Command Execution API configuration
    command_execution:
      cluster_id: "0816-235658-5i3k9jfh"
      timeout: 300
      auto_start: true
      start_timeout: 600
    
    # MLflow configuration
    mlflow:
      experiment_path: "/Users/michael.shtelma@databricks.com/langgraph-agent-dev"
      experiment_description: "Development experiments for LangGraph Research Agent"
    
    # Model configuration
    model:
      catalog: "main"
      schema: "msh"
      name: "langgraph_research_agent_dev"
      
    # Serving endpoint configuration
    endpoint:
      name: "langgraph-research-agent-dev"
      workload_size: "Small"
      ready_timeout: 900  # 15 minutes for endpoint to be ready
      check_interval: 30  # Check endpoint status every 30 seconds
      validation_retry_delay: 60  # Wait 60 seconds before retrying validation
      validation_retries: 2  # Number of validation retry attempts

  staging:
    profile: "e2-demo-field-eng"
    workspace_path: "/Workspace/Shared/langgraph-agent/staging"
    
    # Command Execution API configuration
    command_execution:
      cluster_id: "0816-235658-5i3k9jfh"
      timeout: 600
      auto_start: true
      start_timeout: 600
    
    # MLflow configuration
    mlflow:
      experiment_path: "/Shared/langgraph-agent-experiments/staging"
      experiment_description: "Staging experiments for LangGraph Research Agent"
    
    # Model configuration
    model:
      catalog: "main"
      schema: "staging_app"
      name: "langgraph_research_agent_staging"
      
    # Serving endpoint configuration
    endpoint:
      name: "langgraph-research-agent-staging"
      workload_size: "Small"
      ready_timeout: 900  # 15 minutes for endpoint to be ready
      check_interval: 30  # Check endpoint status every 30 seconds
      validation_retry_delay: 60  # Wait 60 seconds before retrying validation
      validation_retries: 2  # Number of validation retry attempts

